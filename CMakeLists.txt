CMAKE_MINIMUM_REQUIRED(VERSION 2.8.11)
PROJECT(WindowsXPKg)
SET(CMAKE_CXX_STANDARD 17)

FIND_PACKAGE(PkgConfig REQUIRED)
PKG_SEARCH_MODULE(OPENSSL REQUIRED openssl)

IF(!OPENSSL_FOUND)
    MESSAGE(FATAL_ERROR "OpenSSL Not Found")
ENDIF()

ADD_EXECUTABLE(xpkey main.cpp xp.cpp server.cpp key.cpp util.cpp cli.cpp)
TARGET_INCLUDE_DIRECTORIES(xpkey PUBLIC crypto)
TARGET_LINK_LIBRARIES(xpkey PUBLIC crypto)
